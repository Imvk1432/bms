{"ast":null,"code":"var _jsxFileName = \"D:\\\\D\\\\EDGE DLOAD\\\\Placement PREP\\\\React\\\\bookpage-class\\\\src\\\\components\\\\Book.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './Book.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Book(props) {\n  _s();\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [updatedBook, setUpdatedBook] = useState({\n    ...props\n  });\n  const handleUpdate = () => {\n    if (!isUpdating) {\n      setIsUpdating(true);\n      return;\n    }\n    fetch(`http://localhost:8000/books/${updatedBook.id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedBook)\n    }).then(response => {\n      if (!response.ok) throw new Error('Failed to update book');\n      const updatedBooks = props.books.map(book => book.id === updatedBook.id ? updatedBook : book);\n      props.setBooks(updatedBooks);\n      setIsUpdating(false);\n    }).catch(error => console.error('Error updating book:', error));\n  };\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUpdatedBook(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"book-container\",\n    children: [isUpdating ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"input-data\",\n      name: \"id\",\n      value: updatedBook.id,\n      onChange: handleInputChange,\n      placeholder: \"id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"book-data\",\n      children: props.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), isUpdating ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"input-data\",\n      name: \"title\",\n      value: updatedBook.title,\n      onChange: handleInputChange,\n      placeholder: \"title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"book-data\",\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), isUpdating ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"input-data\",\n      name: \"author\",\n      value: updatedBook.author,\n      onChange: handleInputChange,\n      placeholder: \"author\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"book-data\",\n      children: props.author\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), isUpdating ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"input-data\",\n      name: \"price\",\n      value: updatedBook.price,\n      onChange: handleInputChange,\n      placeholder: \"price\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"book-data\",\n      children: props.price\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-remove\",\n      onClick: () => props.handleRemove(props.id),\n      children: \"Remove\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-update\",\n      onClick: handleUpdate,\n      children: isUpdating ? \"Save\" : \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(Book, \"9kKyPtxiFT19n6UsXDgYXGg6G1I=\");\n_c = Book;\nexport default Book;\nvar _c;\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Book","props","_s","isUpdating","setIsUpdating","updatedBook","setUpdatedBook","handleUpdate","fetch","id","method","headers","body","JSON","stringify","then","response","ok","Error","updatedBooks","books","map","book","setBooks","catch","error","console","handleInputChange","event","name","value","target","prevState","children","type","className","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","title","author","price","onClick","handleRemove","_c","$RefreshReg$"],"sources":["D:/D/EDGE DLOAD/Placement PREP/React/bookpage-class/src/components/Book.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Book.css'\r\n\r\nfunction Book(props) {\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n    const [updatedBook, setUpdatedBook] = useState({ ...props });\r\n\r\n    const handleUpdate = () => {\r\n        if (!isUpdating) {\r\n            setIsUpdating(true);\r\n            return;\r\n        }\r\n\r\n        fetch(`http://localhost:8000/books/${updatedBook.id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(updatedBook)\r\n        })\r\n        .then(response => {\r\n            if (!response.ok) throw new Error('Failed to update book');\r\n            const updatedBooks = props.books.map(book => (book.id === updatedBook.id ? updatedBook : book));\r\n            props.setBooks(updatedBooks);\r\n            setIsUpdating(false);\r\n        })\r\n        .catch(error => console.error('Error updating book:', error));\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setUpdatedBook(prevState => ({\r\n            ...prevState,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div id=\"book-container\">\r\n            {isUpdating ? \r\n                <input  \r\n                    type=\"text\"\r\n                    className=\"input-data\"\r\n                    name=\"id\"\r\n                    value={updatedBook.id}\r\n                    onChange={handleInputChange}\r\n                    placeholder='id'\r\n                />\r\n                :\r\n                <span className='book-data'>{props.id}</span>\r\n            }\r\n\r\n            {isUpdating ?\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"input-data\"\r\n                    name=\"title\"\r\n                    value={updatedBook.title}\r\n                    onChange={handleInputChange}\r\n                    placeholder='title'\r\n                />\r\n                :\r\n                <span className='book-data'>{props.title}</span>\r\n            }\r\n\r\n            {isUpdating ?\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"input-data\"\r\n                    name=\"author\"\r\n                    value={updatedBook.author}\r\n                    onChange={handleInputChange}\r\n                    placeholder='author'\r\n                />\r\n                :\r\n                <span className='book-data'>{props.author}</span>\r\n            }\r\n\r\n            {isUpdating ?\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"input-data\"\r\n                    name=\"price\"\r\n                    value={updatedBook.price}\r\n                    onChange={handleInputChange}\r\n                    placeholder='price'\r\n                />\r\n                :\r\n                <span className='book-data'>{props.price}</span>\r\n            }\r\n\r\n            <button className='btn-remove' onClick={() => props.handleRemove(props.id)}>Remove</button>\r\n            <button className='btn-update' onClick={handleUpdate}>{isUpdating ? \"Save\" : \"Update\"}</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Book;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}