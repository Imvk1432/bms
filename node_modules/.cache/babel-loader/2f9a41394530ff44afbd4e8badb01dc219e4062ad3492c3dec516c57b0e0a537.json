{"ast":null,"code":"import React from'react';import{useState}from'react';import'./Book.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Book(props){let[isUpdating,setIsUpdating]=useState(false);let[updatedId,setUpdatedId]=useState(props.id);let[updatedTitle,setUpdatedTitle]=useState(props.title);let[updatedAuthor,setUpdatedAuthor]=useState(props.author);let[updatedPrice,setUpdatedPrice]=useState(props.price);// isUpdating variable = false\n// now isUpdating is true\nfunction handleUpdate(){let book;if(isUpdating===true){book={id:updatedId,title:updatedTitle,author:updatedAuthor,price:updatedPrice};fetch(\"http://localhost:8000/books/\".concat(props.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)}).then(()=>{let newBooks=[...props.books];newBooks.map((element,idx)=>{if(element.id===book.id){newBooks.splice(idx,1,book);}});props.setBooks(newBooks);setIsUpdating(false);});}else{setIsUpdating(true);}}function handleIdChange(event){setUpdatedId(event.target.value);}function handleTitleChange(event){setUpdatedTitle(event.target.value);}function handleAuthorChange(event){setUpdatedAuthor(event.target.value);}function handlePriceChange(event){setUpdatedPrice(event.target.value);}return/*#__PURE__*/_jsxs(\"div\",{id:\"book-container\",children:[isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"input-data1\",className:\"input-data\",placeholder:\"ID\",required:true,onChange:handleIdChange,value:updatedId}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data1\",className:\"book-data\",children:props.id}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"input-data2\",className:\"input-data\",placeholder:\"Title\",required:true,onChange:handleTitleChange,value:updatedTitle}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data2\",className:\"book-data\",children:props.title}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"input-data3\",className:\"input-data\",placeholder:\"Author\",required:true,onChange:handleAuthorChange,value:updatedAuthor}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data3\",className:\"book-data\",children:props.author}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"input-data4\",className:\"input-data\",placeholder:\"Price\",required:true,onChange:handlePriceChange,value:updatedPrice}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data4\",className:\"book-data\",children:props.price}),/*#__PURE__*/_jsx(\"button\",{id:\"remove-btn\",className:\"btn\",onClick:()=>{props.handleRemove(props.id);},children:\"Remove\"}),/*#__PURE__*/_jsxs(\"button\",{id:\"update-btn\",className:\"btn\",onClick:handleUpdate,children:[\" \",isUpdating?\"Save\":\"Update\",\" \"]})]});}export default Book;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Book","props","isUpdating","setIsUpdating","updatedId","setUpdatedId","id","updatedTitle","setUpdatedTitle","title","updatedAuthor","setUpdatedAuthor","author","updatedPrice","setUpdatedPrice","price","handleUpdate","book","fetch","concat","method","headers","body","JSON","stringify","then","newBooks","books","map","element","idx","splice","setBooks","handleIdChange","event","target","value","handleTitleChange","handleAuthorChange","handlePriceChange","children","type","className","placeholder","required","onChange","onClick","handleRemove"],"sources":["D:/D/EDGE DLOAD/Placement PREP/React/bookpage-class/src/components/Book.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport './Book.css';\r\n\r\nfunction Book(props){\r\n\r\n    let[isUpdating, setIsUpdating] = useState(false);\r\n\r\n    let[updatedId, setUpdatedId] = useState(props.id);\r\n    let[updatedTitle, setUpdatedTitle] = useState(props.title);\r\n    let[updatedAuthor, setUpdatedAuthor] = useState(props.author);\r\n    let[updatedPrice, setUpdatedPrice] = useState(props.price);\r\n\r\n\r\n\r\n    // isUpdating variable = false\r\n    // now isUpdating is true\r\n    function handleUpdate(){\r\n        let book;\r\n\r\n        if(isUpdating === true) {\r\n            book = {\r\n                        id: updatedId,\r\n                        title: updatedTitle,\r\n                        author: updatedAuthor,\r\n                        price: updatedPrice\r\n                    }\r\n\r\n                    fetch(`http://localhost:8000/books/${props.id}`, {\r\n                        method: 'PUT',\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify(book)\r\n                    })\r\n                    .then(()=>{\r\n                        let newBooks = [...props.books];\r\n\r\n                    newBooks.map(\r\n                        (element, idx)=>{\r\n                            if(element.id === book.id) {\r\n                                newBooks.splice(idx, 1, book);\r\n                            }\r\n                        }\r\n                    )\r\n            \r\n                    props.setBooks(newBooks);\r\n                    setIsUpdating(false);\r\n                    })        \r\n        }   \r\n        else{\r\n            setIsUpdating(true);\r\n        }\r\n    }\r\n\r\n    function handleIdChange(event) {\r\n        setUpdatedId(event.target.value);\r\n    }\r\n\r\n    function handleTitleChange(event){\r\n        setUpdatedTitle(event.target.value);\r\n    }\r\n\r\n    function handleAuthorChange(event){\r\n        setUpdatedAuthor(event.target.value);\r\n    }\r\n\r\n\r\n    function handlePriceChange(event){\r\n        setUpdatedPrice(event.target.value);\r\n    }\r\n\r\n    return(\r\n        <div id=\"book-container\">\r\n\r\n            {isUpdating ? \r\n                <input  \r\n                    type=\"text\"\r\n                    id=\"input-data1\"\r\n                    className=\"input-data\"\r\n                    placeholder='ID'\r\n                    required\r\n                    onChange={handleIdChange}\r\n                    value={updatedId}\r\n                    \r\n            />\r\n            :\r\n                <span id=\"container-data1\" className='book-data'>{props.id}</span>\r\n            }\r\n\r\n\r\n            {\r\n                isUpdating?\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"input-data2\"\r\n                        className=\"input-data\"\r\n                        placeholder='Title'\r\n                        required\r\n                        onChange={handleTitleChange}\r\n                        value = {updatedTitle}\r\n\r\n                    />\r\n                :\r\n                    <span id=\"container-data2\" className='book-data'>{props.title}</span> \r\n\r\n            }\r\n\r\n{\r\n                isUpdating?\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"input-data3\"\r\n                        \r\n                        className=\"input-data\"\r\n                        placeholder='Author'\r\n                        required\r\n                        onChange={handleAuthorChange}\r\n                        value = {updatedAuthor}\r\n                    />\r\n                :\r\n                    <span id=\"container-data3\" className='book-data'>{props.author}</span> \r\n\r\n            }\r\n\r\n\r\n{\r\n                isUpdating?\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"input-data4\"\r\n                        \r\n                        className=\"input-data\"\r\n                        placeholder='Price'\r\n                        required\r\n                        onChange={handlePriceChange}\r\n                        value={updatedPrice}\r\n                    />\r\n                :\r\n                    <span id=\"container-data4\" className='book-data'>{props.price}</span> \r\n\r\n            }\r\n\r\n          <button id=\"remove-btn\" className='btn' onClick={()=>{props.handleRemove(props.id)}}>Remove</button>\r\n          <button id=\"update-btn\" className='btn' onClick={handleUpdate} > {isUpdating ? \"Save\" : \"Update\"} </button>\r\n        </div>\r\n    );\r\n}\r\nexport default Book;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}