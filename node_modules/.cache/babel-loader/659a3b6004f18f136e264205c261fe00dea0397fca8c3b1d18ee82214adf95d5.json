{"ast":null,"code":"import React,{useEffect,useState}from'react';import AddBook from'../components/AddBook';import Book from'../components/Book';import useFetch from'../useFetch';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{let{data}=useFetch('http://localhost:8000/books');let[books,setBooks]=useState(null);useEffect(()=>{setBooks(data);},[data]);function handleRemove(id){fetch(\"http://localhost:8000/books/\".concat(id),{method:'DELETE'}).then(()=>{let newBooks=books.filter(element=>{return element.id!==id;});setBooks(newBooks);}).catch(error=>{console.error('Error removing book:',error);});}function handleSubmit(book){fetch('http://localhost:8000/books',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)}).then(()=>{let newBooks=[...books];newBooks.push(book);setBooks(newBooks);}).catch(error=>{console.error('Error adding book:',error);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(AddBook,{handleSubmit:handleSubmit,children:\" \"}),books&&books.map(element=>{return/*#__PURE__*/_jsx(Book,{id:element.id,title:element.title,author:element.author,price:element.price,handleRemove:handleRemove,books:books,setBooks:setBooks},element.id);})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","AddBook","Book","useFetch","jsx","_jsx","jsxs","_jsxs","Home","data","books","setBooks","handleRemove","id","fetch","concat","method","then","newBooks","filter","element","catch","error","console","handleSubmit","book","headers","body","JSON","stringify","push","className","children","map","title","author","price"],"sources":["D:/D/EDGE DLOAD/Placement PREP/React/bookpage-class/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport AddBook from '../components/AddBook'\r\nimport Book from '../components/Book'\r\nimport useFetch from '../useFetch';\r\nimport './Home.css'\r\n\r\nconst Home = () => {\r\n    let { data } = useFetch('http://localhost:8000/books');\r\n\r\n    let [books, setBooks] = useState(null);\r\n\r\n    useEffect(()=>{\r\n        setBooks(data);\r\n    }, [data]);\r\n\r\n\r\n\r\n    function handleRemove(id) {\r\n        fetch(`http://localhost:8000/books/${id}`, {\r\n            method: 'DELETE'\r\n        })\r\n            .then(() => {\r\n                let newBooks = books.filter(\r\n                    (element) => {\r\n                        return element.id !== id;\r\n                    }\r\n                )\r\n                setBooks(newBooks);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error removing book:', error);\r\n            });\r\n    }\r\n\r\n    function handleSubmit(book) {\r\n        fetch('http://localhost:8000/books', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(book)\r\n        })\r\n            .then(() => {\r\n                let newBooks = [...books];\r\n                newBooks.push(book);\r\n                setBooks(newBooks);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error adding book:', error);\r\n            });\r\n    }\r\n\r\n  return (\r\n    <div className='home-container'>\r\n    <AddBook handleSubmit={handleSubmit}> </AddBook>\r\n    {\r\n        books &&\r\n            books.map(\r\n                (element) => {\r\n                    return <Book\r\n                        key={element.id}\r\n                        id={element.id}\r\n                        title={element.title}\r\n                        author={element.author}\r\n                        price={element.price}\r\n                        handleRemove={handleRemove}\r\n                        books={books}\r\n                        setBooks={setBooks}\r\n                    >\r\n                    </Book>\r\n                }\r\n            )\r\n    }\r\n</div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAClC,MAAO,YAAY,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,GAAI,CAAEC,IAAK,CAAC,CAAGN,QAAQ,CAAC,6BAA6B,CAAC,CAEtD,GAAI,CAACO,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAI,CACVY,QAAQ,CAACF,IAAI,CAAC,CAClB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAIV,QAAS,CAAAG,YAAYA,CAACC,EAAE,CAAE,CACtBC,KAAK,gCAAAC,MAAA,CAAgCF,EAAE,EAAI,CACvCG,MAAM,CAAE,QACZ,CAAC,CAAC,CACGC,IAAI,CAAC,IAAM,CACR,GAAI,CAAAC,QAAQ,CAAGR,KAAK,CAACS,MAAM,CACtBC,OAAO,EAAK,CACT,MAAO,CAAAA,OAAO,CAACP,EAAE,GAAKA,EAAE,CAC5B,CACJ,CAAC,CACDF,QAAQ,CAACO,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CAAC,CAAC,CACV,CAEA,QAAS,CAAAE,YAAYA,CAACC,IAAI,CAAE,CACxBX,KAAK,CAAC,6BAA6B,CAAE,CACjCE,MAAM,CAAE,MAAM,CACdU,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAC7B,CAAC,CAAC,CACGR,IAAI,CAAC,IAAM,CACR,GAAI,CAAAC,QAAQ,CAAG,CAAC,GAAGR,KAAK,CAAC,CACzBQ,QAAQ,CAACY,IAAI,CAACL,IAAI,CAAC,CACnBd,QAAQ,CAACO,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACV,CAEF,mBACEf,KAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC/B3B,IAAA,CAACJ,OAAO,EAACuB,YAAY,CAAEA,YAAa,CAAAQ,QAAA,CAAC,GAAC,CAAS,CAAC,CAE5CtB,KAAK,EACDA,KAAK,CAACuB,GAAG,CACJb,OAAO,EAAK,CACT,mBAAOf,IAAA,CAACH,IAAI,EAERW,EAAE,CAAEO,OAAO,CAACP,EAAG,CACfqB,KAAK,CAAEd,OAAO,CAACc,KAAM,CACrBC,MAAM,CAAEf,OAAO,CAACe,MAAO,CACvBC,KAAK,CAAEhB,OAAO,CAACgB,KAAM,CACrBxB,YAAY,CAAEA,YAAa,CAC3BF,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,EAPdS,OAAO,CAACP,EASX,CAAC,CACX,CACJ,CAAC,EAER,CAAC,CAEN,CAAC,CAED,cAAe,CAAAL,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}