{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nfunction useFetch(url, setBooks) {\n  _s();\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error('Failed to fetch books');\n        }\n        const data = await response.json();\n        if (typeof setBooks === 'function') {\n          setBooks(data);\n          setError(null); // Reset error if fetch is successful\n        } else {\n          throw new Error('setBooks is not a function');\n        }\n      } catch (error) {\n        setError(error.message); // Set error message\n        if (typeof setBooks === 'function') {\n          setBooks(null); // Reset books\n        }\n      }\n    };\n    fetchData();\n  }, [url, setBooks]);\n  return {\n    error\n  };\n}\n_s(useFetch, \"JfhGochNIqPkY17zyDsXnSE7zLQ=\");\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","url","setBooks","_s","error","setError","fetchData","response","fetch","ok","Error","data","json","message"],"sources":["D:/D/EDGE DLOAD/Placement PREP/React/bookpage-class/src/useFetch.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nfunction useFetch(url, setBooks) {\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch(url);\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch books');\r\n                }\r\n                const data = await response.json();\r\n                if (typeof setBooks === 'function') {\r\n                    setBooks(data);\r\n                    setError(null); // Reset error if fetch is successful\r\n                } else {\r\n                    throw new Error('setBooks is not a function');\r\n                }\r\n            } catch (error) {\r\n                setError(error.message); // Set error message\r\n                if (typeof setBooks === 'function') {\r\n                    setBooks(null); // Reset books\r\n                }\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n\r\n    }, [url, setBooks]);\r\n\r\n    return { error };\r\n}\r\n\r\nexport default useFetch;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,QAAQA,CAACC,GAAG,EAAEC,QAAQ,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACP,GAAG,CAAC;QACjC,IAAI,CAACM,QAAQ,CAACE,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;QAC5C;QACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClC,IAAI,OAAOV,QAAQ,KAAK,UAAU,EAAE;UAChCA,QAAQ,CAACS,IAAI,CAAC;UACdN,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB,CAAC,MAAM;UACH,MAAM,IAAIK,KAAK,CAAC,4BAA4B,CAAC;QACjD;MACJ,CAAC,CAAC,OAAON,KAAK,EAAE;QACZC,QAAQ,CAACD,KAAK,CAACS,OAAO,CAAC,CAAC,CAAC;QACzB,IAAI,OAAOX,QAAQ,KAAK,UAAU,EAAE;UAChCA,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB;MACJ;IACJ,CAAC;IAEDI,SAAS,CAAC,CAAC;EAEf,CAAC,EAAE,CAACL,GAAG,EAAEC,QAAQ,CAAC,CAAC;EAEnB,OAAO;IAAEE;EAAM,CAAC;AACpB;AAACD,EAAA,CA9BQH,QAAQ;AAgCjB,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}